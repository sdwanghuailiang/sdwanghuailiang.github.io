[{"title":"Redis 深入探讨（一）：Linux CentOS 7.3 安装 Redis 4.0.1","date":"2017-08-16T11:32:29.000Z","path":"2017/08/16/20170816001/","text":"Redis简介Redis 是完全开源免费的，是一个高性能的key-value数据库。Redis 与其他 key - value 缓存产品有以下三个特点：Redis支持数据的持久化，可以将内存中的数据保存在磁盘中，重启的时候可以再次加载进行使用。Redis不仅仅支持简单的key-value类型的数据，同时还提供list，set，zset，hash等数据结构的存储。Redis支持数据的备份，即master-slave模式的数据备份。性能极高 – Redis能读的速度是110000次/s,写的速度是81000次/s。 Redis 4.0 新特性Redis 4.x 相比 Redis 之前的版本，功能上有了很多改进，具体可参考以下几篇文章： http://blog.huangz.me/diary/2016/redis-4-outline.html https://www.oschina.net/news/79619/redis-4-0-rc1 http://www.cnblogs.com/lshs/p/6195257.html http://www.raincent.com/content-10-8073-1.html http://www.cnblogs.com/svan/p/7054129.html Redis 4.0.1 安装本文以opt目录作为安装目录进行安装，详细安装过程如下： 下载 Redis 4.0.1 12[root@localhost ~]# cd /opt[root@localhost opt]# wget http://download.redis.io/releases/redis-4.0.1.tar.gz 解压 redis-4.0.1.tar.gz 1[root@localhost opt]# tar -zxvf redis-4.0.1.tar.gz 编译进入 redis 目录，执行 make 命令进行编译： 12[root@localhost opt]# cd redis-4.0.1/[root@localhost redis-4.0.1]# make 进行编译时，有可能会报如下两个错误： 如果服务器未安装 gcc编译工具，则执行编译时，会报如下错误：1234567891011121314[root@localhost redis-4.0.1]# make............make[3]: gcc：命令未找到make[3]: *** [net.o] 错误 127make[3]: 离开目录“/opt/redis-4.0.1/deps/hiredis”make[2]: *** [hiredis] 错误 2make[2]: 离开目录“/opt/redis-4.0.1/deps”make[1]: [persist-settings] 错误 2 (忽略) CC adlist.o/bin/sh: cc: 未找到命令make[1]: *** [adlist.o] 错误 127make[1]: 离开目录“/opt/redis-4.0.1/src”make: *** [all] 错误 2 此时，执行 yum install gcc 安装 gcc编译工具 即可：12345678910111213[root@localhost redis-4.0.1]# yum install gcc............已安装: gcc.x86_64 0:4.8.5-11.el7 作为依赖被安装: glibc-devel.x86_64 0:2.17-157.el7_3.5 glibc-headers.x86_64 0:2.17-157.el7_3.5 作为依赖被升级: glibc.x86_64 0:2.17-157.el7_3.5 glibc-common.x86_64 0:2.17-157.el7_3.5 完毕！ 如果服务器没有安装 jemalloc，则会报如下错误：12345678910............In file included from adlist.c:34:0:zmalloc.h:50:31: 致命错误：jemalloc/jemalloc.h：没有那个文件或目录 #include &lt;jemalloc/jemalloc.h&gt; ^编译中断。make[1]: *** [adlist.o] 错误 1make[1]: 离开目录“/opt/redis-4.0.1/src”make: *** [all] 错误 2 想要弄明白这个错误是怎么回事，我们得先看一下Redis的描述文档。打开Reids根目录下的README文件，找到这么一段话：12345678910111213141516171819202122[root@localhost redis-4.0.1]# cat README.md............Allocator---------Selecting a non-default memory allocator when building Redis is done by settingthe `MALLOC` environment variable. Redis is compiled and linked against libcmalloc by default, with the exception of jemalloc being the default on Linuxsystems. This default was picked because jemalloc has proven to have fewerfragmentation problems than libc malloc.To force compiling against libc malloc, use: % make MALLOC=libcTo compile against jemalloc on Mac OS X systems, use: % make MALLOC=jemalloc............ 这是Redis在安装时关于内存分配器allocator的描述，如果指定了MALLOC这个环境变量，那么会用这个环境变量的去建立Redis。如果没有，那么就是用默认的分配器。Redis 2.4版本之后，默认使用jemalloc来做内存管理，因为jemalloc被证明解决fragmentation problems（内存碎片化问题）比libc更好。但是如果你又没有jemalloc而只有libc，当make出错时，你可以加这么一个参数即可 make MALLOC=libc。 如果我们就是想用jemalloc，那么安装jemalloc即可，该过程很简单，一般不会报错：12345[root@localhost opt]# wget https://github.com/jemalloc/jemalloc/releases/download/5.0.1/jemalloc-5.0.1.tar.bz2[root@localhost opt]# tar -xvf jemalloc-5.0.1.tar.bz2[root@localhost opt]# cd jemalloc-5.0.1/[root@localhost jemalloc-5.0.1]# ./configure --prefix=/usr/local/jemalloc[root@localhost jemalloc-5.0.1]# make &amp;&amp; make install jemalloc安装完成后，可查看安装结果：123456[root@localhost jemalloc-5.0.1]# ll /usr/local/jemalloc/总用量 0drwxr-xr-x. 2 root root 62 8月 13 10:58 bindrwxr-xr-x. 3 root root 22 8月 13 10:58 includedrwxr-xr-x. 3 root root 115 8月 13 10:58 libdrwxr-xr-x. 4 root root 28 8月 13 10:58 share 解决完上边两个问题，再次对 Redis 进行编译，就不会报错了，因为我们打算采用jemalloc管理内存，所以编译时我们需要指定内存管理器：1234567[root@localhost jemalloc-5.0.1]# cd ../redis-4.0.1/[root@localhost redis-4.0.1]# make MALLOC=/usr/local/jemalloc/lib............Hint: It's a good idea to run 'make test' ;)make[1]: 离开目录“/opt/redis-4.0.1/src” 安装编译完成后，执行 make install 进行安装，安装过程我没有发现什么错误： 12345678910[root@localhost redis-4.0.1]# cd src [root@localhost src]# make installHint: It's a good idea to run 'make test' ;) INSTALL install INSTALL install INSTALL install INSTALL install INSTALL install 测试安装完成后，我们一般还要对安装结果进行测试，测试的方式很简单，在安装结果中已经说明了，执行 make test 即可。不过在进行测试的过程中，我遇到了一个错误： 123[root@localhost src]# make testYou need tcl 8.5 or newer in order to run the Redis testmake: *** [test] 错误 1 这是由于tcl的版本低于8.5导致的，安装最新的tcl即可：123456[root@localhost opt]# wget https://sourceforge.net/projects/tcl/files/Tcl/8.6.7/tcl8.6.7-src.tar.gz[root@localhost opt]# tar -zxvf tcl8.6.7-src.tar.gz -C /usr/local/[root@localhost opt]# cd /usr/local/tcl8.6.7/unix[root@localhost unix]# ./configure[root@localhost unix]# make[root@localhost unix]# make install tcl安装完成后，再次进行测试，完美通过：1234567[root@localhost redis-4.0.1]# make test............\\o/ All tests passed without errors!Cleanup: may take some time... OKmake[1]: 离开目录“/opt/redis-4.0.1/src” 查看安装版本其实安装完成后，版本看不看无所谓，反正我们自己肯定是知道自己安装的什么版本的。查看版本的命令是 redis-server -v：12[root@localhost redis-4.0.1]# redis-server -vRedis server v=4.0.1 sha=00000000:0 malloc=libc bits=64 build=573071f5c48ca889 到现在，Redis就算安装完成了，很简单吧。 服务端启动执行 redis-server redis.conf，查看我们安装的Redis是否能正常启动，如果后面没有跟redis.conf则按照默认配置启动： 1234567891011121314151617181920212223242526272829[root@localhost redis-4.0.1]# redis-server redis.conf27450:C 13 Aug 11:30:44.516 # oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo27450:C 13 Aug 11:30:44.516 # Redis version=4.0.1, bits=64, commit=00000000, modified=0, pid=27450, just started27450:C 13 Aug 11:30:44.516 # Configuration loaded27450:M 13 Aug 11:30:44.517 * Increased maximum number of open files to 10032 (it was originally set to 1024). _._ _.-``__ ''-._ _.-`` `. `_. ''-._ Redis 4.0.1 (00000000/0) 64 bit .-`` .-```. ```\\/ _.,_ ''-._ ( ' , .-` | `, ) Running in standalone mode |`-._`-...-` __...-.``-._|'` _.-'| Port: 6379 | `-._ `._ / _.-' | PID: 27450 `-._ `-._ `-./ _.-' _.-' |`-._`-._ `-.__.-' _.-'_.-'| | `-._`-._ _.-'_.-' | http://redis.io `-._ `-._`-.__.-'_.-' _.-' |`-._`-._ `-.__.-' _.-'_.-'| | `-._`-._ _.-'_.-' | `-._ `-._`-.__.-'_.-' _.-' `-._ `-.__.-' _.-' `-._ _.-' `-.__.-' 27450:M 13 Aug 11:30:44.518 # WARNING: The TCP backlog setting of 511 cannot be enforced because /proc/sys/net/core/somaxconn is set to the lower value of 128.27450:M 13 Aug 11:30:44.518 # Server initialized27450:M 13 Aug 11:30:44.518 # WARNING overcommit_memory is set to 0! Background save may fail under low memory condition. To fix this issue add 'vm.overcommit_memory = 1' to /etc/sysctl.conf and then reboot or run the command 'sysctl vm.overcommit_memory=1' for this to take effect.27450:M 13 Aug 11:30:44.518 # WARNING you have Transparent Huge Pages (THP) support enabled in your kernel. This will create latency and memory usage issues with Redis. To fix this issue run the command 'echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled' as root, and add it to your /etc/rc.local in order to retain the setting after a reboot. Redis must be restarted after THP is disabled.27450:M 13 Aug 11:30:44.518 * Ready to accept connections 客户端连接服务器端启动后，再用 redis-cli -h IP -p 端口号 命令查看客户端能否正常连接，连接进入后，使用info命令可以查看你所使用的内存管理器： 12[root@localhost redis-4.0.1]# redis-cli -h 127.0.0.1 -p 6379127.0.0.1:6379&gt; info 根据自己使用的内存管理器不同有如下两种结果:12mem_allocator:libcmem_allocator:jemalloc-4.0.3 好了，Redis安装完了，下一讲，我们再说一下Redis的各个配置项。","tags":[{"name":"Redis","slug":"Redis","permalink":"http://www.jkinn.com/tags/Redis/"}]},{"title":"MySQL 深入探讨（一）： 阿里云 Linux CentOS 7.3 安装配置 JDK-1.8、MySQL-5.7","date":"2017-04-10T07:48:14.000Z","path":"2017/04/10/2017041001/","text":"最初公司购买的阿里云服务器是Linux CentOS 6.8版本的，在安装MySQL 5.7的过程中遇到了一些问题，系统总是提示各种依赖包不存在。折腾了一天，打败了好多小怪兽后最后总算安装好了，遗憾的是，当时的安装过程没有做记录。这几天公司又采购了一台阿里云，还是由我来搭建生产环境，为了以后公司有新的服务器加入时，弟兄们能无脑搭建环境，这次的安装过程我做了详细记录，其他的服务器版本不敢说，阿里云 CentOS 7.3 的服务器按照这个过程基本不会出现什么问题。 已安装版本查看及卸载因为我们的服务器是新采购的，上面什么东西都没有安装，甚至连JDK也没有，所以安装前我不需要检查软件是否安装，如果阁下的服务器是正在使用的，建议先检查某个软件是否已经安装，如果已经安装，需要咨询下领导是否要重新安装或者是否可移除。 12345-- 检查软件是否已经安装，以MySQL为例[root@服务器主机名 opt]# rpm -qa | grep -i mysqlmysql-community-release-el7-5.noarch-- 如果有安装组件，则需要一个个的卸载掉[root@服务器主机名 opt]# yum -y remove mysql-community-release-el7-5 系统版本查看我们才接收到公司采购的服务器时，基本都知道自己的服务器版本信息，当然有些情况我们是不知道服务器版本信息的，在这里我们先查询一下服务器信息： 12345678910111213141516171819202122232425262728293031323334-- 查看系统内核版本[root@服务器主机名 ~]# uname -aLinux 服务器主机名 3.10.0-514.21.1.el7.x86_64 #1 SMP Thu May 25 17:04:51 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux[root@服务器主机名 ~]# cat /proc/versionLinux version 3.10.0-514.21.1.el7.x86_64 (builder@kbuilder.dev.centos.org) (gcc version 4.8.5 20150623 (Red Hat 4.8.5-11) (GCC) ) #1 SMP Thu May 25 17:04:51 UTC 2017-- 查看系统发行版本[root@服务器主机名 ~]# lsb_release -aLSB Version: :core-4.1-amd64:core-4.1-noarchDistributor ID: CentOSDescription: CentOS Linux release 7.3.1611 (Core) Release: 7.3.1611Codename: Core[root@服务器主机名 ~]# cat /etc/os-releaseNAME=\"CentOS Linux\"VERSION=\"7 (Core)\"ID=\"centos\"ID_LIKE=\"rhel fedora\"VERSION_ID=\"7\"PRETTY_NAME=\"CentOS Linux 7 (Core)\"ANSI_COLOR=\"0;31\"CPE_NAME=\"cpe:/o:centos:centos:7\"HOME_URL=\"https://www.centos.org/\"BUG_REPORT_URL=\"https://bugs.centos.org/\"CENTOS_MANTISBT_PROJECT=\"CentOS-7\"CENTOS_MANTISBT_PROJECT_VERSION=\"7\"REDHAT_SUPPORT_PRODUCT=\"centos\"REDHAT_SUPPORT_PRODUCT_VERSION=\"7\"[root@服务器主机名 ~]# cat /etc/redhat-releaseCentOS Linux release 7.3.1611 (Core) [root@服务器主机名 ~]# rpm -q centos-releasecentos-release-7-3.1611.el7.centos.x86_64...... 安装 JDK 1.8我安装的时候JDK的最高版本是jdk-8u131，所以此处就以jdk-8u131为例进行安装，其他版本也一样：123456789101112131415-- 安装JDK[root@服务器主机名 opt]# rpm -ivh jdk-8u131-linux-x64.rpm Preparing... ################################# [100%]Updating / installing... 1:jdk1.8.0_131-2000:1.8.0_131-fcs ################################# [100%]Unpacking JAR files... tools.jar... plugin.jar... javaws.jar... deploy.jar... rt.jar... jsse.jar... charsets.jar... localedata.jar......... 安装完成后，查看JDK版本信息以判断是否安装成功：12345-- 查看JDK版本信息[root@服务器主机名 opt]# java -versionjava version \"1.8.0_131\"Java(TM) SE Runtime Environment (build 1.8.0_131-b11)Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode) 安装 MySQL 5.7原则上在安装前，我们需要检查一下MySQL是否已经安装，因为我的服务器是全新的，不需要检查，此处我直接安装，如果阁下的服务器已经安装了软件，则回到本文前言处查看如何检查是否已安装MySQL。此处我选择了rpm包安装的方式，这种方式比较快速，而且安装过程简单，为了方便兄弟们判断自己的安装过程是否正确，我把安装过程的大部分日志贴出来了供各位对比：123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169-- 下载MySQL 5.7 rpm 安装包[root@服务器主机名 opt]# wget http://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm--2017-06-20 10:45:38-- http://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpmResolving dev.mysql.com (dev.mysql.com)... 137.254.60.11Connecting to dev.mysql.com (dev.mysql.com)|137.254.60.11|:80... connected.HTTP request sent, awaiting response... 301 Moved PermanentlyLocation: https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm [following]--2017-06-20 10:45:38-- https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpmConnecting to dev.mysql.com (dev.mysql.com)|137.254.60.11|:443... connected.HTTP request sent, awaiting response... 302 FoundLocation: https://repo.mysql.com//mysql57-community-release-el7-11.noarch.rpm [following]--2017-06-20 10:45:40-- https://repo.mysql.com//mysql57-community-release-el7-11.noarch.rpmResolving repo.mysql.com (repo.mysql.com)... 23.10.6.195Connecting to repo.mysql.com (repo.mysql.com)|23.10.6.195|:443... connected.HTTP request sent, awaiting response... 200 OKLength: 25680 (25K) [application/x-redhat-package-manager]Saving to: ‘mysql57-community-release-el7-11.noarch.rpm’100%[==================================================================================================================================&gt;] 25,680 --.-K/s in 0.06s 2017-06-20 10:45:40 (421 KB/s) - ‘mysql57-community-release-el7-11.noarch.rpm’ saved [25680/25680]-- 安装MySQL rpm 安装包，一路除了输入[y]就是回车[root@服务器主机名 opt]# yum localinstall mysql57-community-release-el7-11.noarch.rpmLoaded plugins: fastestmirrorExamining mysql57-community-release-el7-11.noarch.rpm: mysql57-community-release-el7-11.noarchMarking mysql57-community-release-el7-11.noarch.rpm to be installedResolving Dependencies--&gt; Running transaction check---&gt; Package mysql57-community-release.noarch 0:el7-11 will be installed--&gt; Finished Dependency ResolutionDependencies Resolved============================================================================================================================================================================ Package Arch Version Repository Size============================================================================================================================================================================Installing: mysql57-community-release noarch el7-11 /mysql57-community-release-el7-11.noarch 31 kTransaction Summary============================================================================================================================================================================Install 1 PackageTotal size: 31 kInstalled size: 31 k-- 输入 yIs this ok [y/d/N]: yDownloading packages:Running transaction checkRunning transaction testTransaction test succeededRunning transactionWarning: RPMDB altered outside of yum. Installing : mysql57-community-release-el7-11.noarch 1/1 Verifying : mysql57-community-release-el7-11.noarch 1/1 Installed: mysql57-community-release.noarch 0:el7-11 Complete!-- 查看刚才的安装过程是否成功（看看安装了哪些MySQL组件即可）[root@服务器主机名 opt]# yum repolist enabled | grep \"mysql.*-community.*\"mysql-connectors-community/x86_64 MySQL Connectors Community 36mysql-tools-community/x86_64 MySQL Tools Community 47mysql57-community/x86_64 MySQL 5.7 Community Server 187-- 安装MySQL服务器，同样一路除了输入[y]就是回车[root@服务器主机名 opt]# yum install mysql-community-serverLoaded plugins: fastestmirrorLoading mirror speeds from cached hostfile * base: mirrors.aliyun.com * epel: mirrors.aliyun.com * extras: mirrors.aliyun.com * updates: mirrors.aliyun.comResolving Dependencies--&gt; Running transaction check---&gt; Package mysql-community-server.x86_64 0:5.7.18-1.el7 will be installed--&gt; Processing Dependency: mysql-community-common(x86-64) = 5.7.18-1.el7 for package: mysql-community-server-5.7.18-1.el7.x86_64--&gt; Processing Dependency: mysql-community-client(x86-64) &gt;= 5.7.9 for package: mysql-community-server-5.7.18-1.el7.x86_64--&gt; Processing Dependency: libaio.so.1(LIBAIO_0.4)(64bit) for package: mysql-community-server-5.7.18-1.el7.x86_64--&gt; Processing Dependency: libaio.so.1(LIBAIO_0.1)(64bit) for package: mysql-community-server-5.7.18-1.el7.x86_64--&gt; Processing Dependency: libaio.so.1()(64bit) for package: mysql-community-server-5.7.18-1.el7.x86_64--&gt; Running transaction check---&gt; Package libaio.x86_64 0:0.3.109-13.el7 will be installed---&gt; Package mysql-community-client.x86_64 0:5.7.18-1.el7 will be installed--&gt; Processing Dependency: mysql-community-libs(x86-64) &gt;= 5.7.9 for package: mysql-community-client-5.7.18-1.el7.x86_64---&gt; Package mysql-community-common.x86_64 0:5.7.18-1.el7 will be installed--&gt; Running transaction check---&gt; Package mariadb-libs.x86_64 1:5.5.52-1.el7 will be obsoleted--&gt; Processing Dependency: libmysqlclient.so.18()(64bit) for package: 2:postfix-2.10.1-6.el7.x86_64--&gt; Processing Dependency: libmysqlclient.so.18(libmysqlclient_18)(64bit) for package: 2:postfix-2.10.1-6.el7.x86_64---&gt; Package mysql-community-libs.x86_64 0:5.7.18-1.el7 will be obsoleting--&gt; Running transaction check---&gt; Package mysql-community-libs-compat.x86_64 0:5.7.18-1.el7 will be obsoleting--&gt; Finished Dependency ResolutionDependencies Resolved============================================================================================================================================================================ Package Arch Version Repository Size============================================================================================================================================================================Installing: mysql-community-libs x86_64 5.7.18-1.el7 mysql57-community 2.1 M replacing mariadb-libs.x86_64 1:5.5.52-1.el7 mysql-community-libs-compat x86_64 5.7.18-1.el7 mysql57-community 2.0 M replacing mariadb-libs.x86_64 1:5.5.52-1.el7 mysql-community-server x86_64 5.7.18-1.el7 mysql57-community 162 MInstalling for dependencies: libaio x86_64 0.3.109-13.el7 base 24 k mysql-community-client x86_64 5.7.18-1.el7 mysql57-community 24 M mysql-community-common x86_64 5.7.18-1.el7 mysql57-community 271 kTransaction Summary============================================================================================================================================================================Install 3 Packages (+3 Dependent packages)Total download size: 190 M-- 输入 yIs this ok [y/d/N]: yDownloading packages:(1/6): libaio-0.3.109-13.el7.x86_64.rpm | 24 kB 00:00:00 warning: /var/cache/yum/x86_64/7/mysql57-community/packages/mysql-community-common-5.7.18-1.el7.x86_64.rpm: Header V3 DSA/SHA1 Signature, key ID 5072e1f5: NOKEYPublic key for mysql-community-common-5.7.18-1.el7.x86_64.rpm is not installed(2/6): mysql-community-common-5.7.18-1.el7.x86_64.rpm | 271 kB 00:00:00 (3/6): mysql-community-libs-5.7.18-1.el7.x86_64.rpm | 2.1 MB 00:00:00 (4/6): mysql-community-libs-compat-5.7.18-1.el7.x86_64.rpm | 2.0 MB 00:00:00 (5/6): mysql-community-client-5.7.18-1.el7.x86_64.rpm | 24 MB 00:00:02 (6/6): mysql-community-server-5.7.18-1.el7.x86_64.rpm | 162 MB 00:00:15 ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------Total 12 MB/s | 190 MB 00:00:16 Retrieving key from file:///etc/pki/rpm-gpg/RPM-GPG-KEY-mysqlImporting GPG key 0x5072E1F5: Userid : \"MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;\" Fingerprint: a4a9 4068 76fc bd3c 4567 70c8 8c71 8d3b 5072 e1f5 Package : mysql57-community-release-el7-11.noarch (installed) From : /etc/pki/rpm-gpg/RPM-GPG-KEY-mysql-- 输入 yIs this ok [y/N]: yRunning transaction checkRunning transaction testTransaction test succeededRunning transaction Installing : mysql-community-common-5.7.18-1.el7.x86_64 1/7 Installing : mysql-community-libs-5.7.18-1.el7.x86_64 2/7 Installing : mysql-community-client-5.7.18-1.el7.x86_64 3/7 Installing : libaio-0.3.109-13.el7.x86_64 4/7 Installing : mysql-community-server-5.7.18-1.el7.x86_64 5/7 Installing : mysql-community-libs-compat-5.7.18-1.el7.x86_64 6/7 Erasing : 1:mariadb-libs-5.5.52-1.el7.x86_64 7/7 Verifying : mysql-community-server-5.7.18-1.el7.x86_64 1/7 Verifying : mysql-community-common-5.7.18-1.el7.x86_64 2/7 Verifying : mysql-community-client-5.7.18-1.el7.x86_64 3/7 Verifying : mysql-community-libs-compat-5.7.18-1.el7.x86_64 4/7 Verifying : libaio-0.3.109-13.el7.x86_64 5/7 Verifying : mysql-community-libs-5.7.18-1.el7.x86_64 6/7 Verifying : 1:mariadb-libs-5.5.52-1.el7.x86_64 7/7 Installed: mysql-community-libs.x86_64 0:5.7.18-1.el7 mysql-community-libs-compat.x86_64 0:5.7.18-1.el7 mysql-community-server.x86_64 0:5.7.18-1.el7 Dependency Installed: libaio.x86_64 0:0.3.109-13.el7 mysql-community-client.x86_64 0:5.7.18-1.el7 mysql-community-common.x86_64 0:5.7.18-1.el7 Replaced: mariadb-libs.x86_64 1:5.5.52-1.el7 Complete! 这样 MySQL 就安装完成了，简单吧，其实只要系统没有缺少依赖包，安装MySQL就不会出现什么问题。好了，接下来我们启动MySQL服务： 1234567891011121314151617181920212223-- 安装完毕，启动MySQL服务 [root@服务器主机名 opt]# systemctl start mysqld-- 查看MySQL状态[root@服务器主机名 opt]# systemctl status mysqld● mysqld.service - MySQL Server Loaded: loaded (/usr/lib/systemd/system/mysqld.service; enabled; vendor preset: disabled) Active: active (running) since Tue 2017-06-20 10:50:44 CST; 12s ago Docs: man:mysqld(8) http://dev.mysql.com/doc/refman/en/using-systemd.html Process: 20502 ExecStart=/usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pid $MYSQLD_OPTS (code=exited, status=0/SUCCESS) Process: 20426 ExecStartPre=/usr/bin/mysqld_pre_systemd (code=exited, status=0/SUCCESS) Main PID: 20504 (mysqld) CGroup: /system.slice/mysqld.service └─20504 /usr/sbin/mysqld --daemonize --pid-file=/var/run/mysqld/mysqld.pidJun 20 10:50:39 服务器主机名 systemd[1]: Starting MySQL Server...Jun 20 10:50:44 服务器主机名 systemd[1]: Started MySQL Server.-- 当然你也可以这样启动MySQL服务[root@服务器主机名 opt]# systemctl enable mysqld-- 重新加载配置文件[root@服务器主机名 opt]# systemctl daemon-reload 现在小伙伴们应该有个疑问，安装过程中没有配置访问密码，那我们的数据库密码是多少呢？甭担心，安装过程中 MySQL 生成了首次访问的默认密码，通过以下命令我们就可以查找到 MySQL 的访问密码： 123-- 查询 MySQL 默认密码[root@服务器主机名 opt]# grep 'temporary password' /var/log/mysqld.log2017-06-20T02:50:40.691736Z 1 [Note] A temporary password is generated for root@localhost: Oot)8y;ih&gt;#K 看见了没，root@localhost:后边的 Oot)8y;ih&gt;#K 就是我们的 MySQL 密码。 现在我们就可以进入我们的MySQL玩耍了,首先我们要做的就是修改 root 账户的密码，毕竟默认密码太不安全了（这里需要注意的是，MySQL 5.7的密码安全性验证很强，需要同时包含有大写字母、小写字母、特殊符号、数字，并且长度不能少于8位）： 1234567891011121314151617181920-- 登录MySQL[root@服务器主机名 opt]# mysql -uroot -pEnter password: Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 3Server version: 5.7.18Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.mysql&gt; ALTER USER 'root'@'localhost' IDENTIFIED BY '你的密码';Query OK, 0 rows affected (0.00 sec)mysql&gt; quitBye 在正式使用 MySQL 时，我们肯定不能使用root用户操作数据库，因为root用户的权限太大，稍不留神，手一抖数据库就废了，所以下一步我们需要创建一个普通用户： 1234567891011121314151617181920-- 登录MySQL[root@服务器主机名 opt]# mysql -uroot -pEnter password: Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 4Server version: 5.7.18 MySQL Community Server (GPL)Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.mysql&gt; GRANT ALL PRIVILEGES ON *.* TO '用户名'@'%' IDENTIFIED BY '用户密码' WITH GRANT OPTION;Query OK, 0 rows affected, 1 warning (0.00 sec)mysql&gt; quitBye 测试我们新建的用户是否能登录： 1234567891011121314151617[root@服务器主机名 opt]# mysql -uzxjy -pEnter password: Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 5Server version: 5.7.18 MySQL Community Server (GPL)Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.mysql&gt;...... 由于公司规定数据库的编码都必须是utf-8，所以接下来我们需要把 MySQL 的数据库编码改为 utf-8。编辑 MySQL 的配置文件，在其中添加character_set_server=utf8、init_connect=’SET NAMES utf8’两句，如下所示： 123456789101112131415161718192021222324252627282930313233[root@服务器主机名 opt]# cat /etc/my.cnf# For advice on how to change settings please see# http://dev.mysql.com/doc/refman/5.7/en/server-configuration-defaults.html[mysqld]#添加下边这两句character_set_server=utf8init_connect='SET NAMES utf8'## Remove leading # and set to the amount of RAM for the most important data# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.# innodb_buffer_pool_size = 128M## Remove leading # to turn on a very important data integrity option: logging# changes to the binary log between backups.# log_bin## Remove leading # to set options mainly useful for reporting servers.# The server defaults are faster for transactions and fast SELECTs.# Adjust sizes as needed, experiment to find the optimal values.# join_buffer_size = 128M# sort_buffer_size = 2M# read_rnd_buffer_size = 2Mdatadir=/var/lib/mysqlsocket=/var/lib/mysql/mysql.sock# Disabling symbolic-links is recommended to prevent assorted security riskssymbolic-links=0log-error=/var/log/mysqld.logpid-file=/var/run/mysqld/mysqld.pid 查看编码是否修改： 123456789101112131415161718192021222324252627282930-- 重启MySQL[root@服务器主机名 opt]# systemctl restart mysqld[root@服务器主机名 opt]# mysql -uroot -pEnter password: Welcome to the MySQL monitor. Commands end with ; or \\g.Your MySQL connection id is 3Server version: 5.7.18 MySQL Community Server (GPL)Copyright (c) 2000, 2017, Oracle and/or its affiliates. All rights reserved.Oracle is a registered trademark of Oracle Corporation and/or itsaffiliates. Other names may be trademarks of their respectiveowners.Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.mysql&gt; show variables like '%character%';+--------------------------+----------------------------+| Variable_name | Value |+--------------------------+----------------------------+| character_set_client | utf8 || character_set_connection | utf8 || character_set_database | utf8 || character_set_filesystem | binary || character_set_results | utf8 || character_set_server | utf8 || character_set_system | utf8 || character_sets_dir | /usr/share/mysql/charsets/ |+--------------------------+----------------------------+8 rows in set (0.01 sec) 好了，到现在，我们的MySQL就安装完成了，具体的配置就看阁下公司内部的具体规定了。","tags":[{"name":"MySQL","slug":"MySQL","permalink":"http://www.jkinn.com/tags/MySQL/"}]},{"title":"零基础 Hexo + Coding、Github、码云(oschina)搭建个人博客（六） —— Markdown常用语法及工具","date":"2017-01-09T02:39:52.000Z","path":"2017/01/09/2017010901/","text":"","tags":[{"name":"博客搭建","slug":"博客搭建","permalink":"http://www.jkinn.com/tags/博客搭建/"}]},{"title":"零基础 Hexo + Coding、Github、码云(oschina)搭建个人博客（五） —— 博客链接提交百度、谷歌等搜索引擎收录","date":"2017-01-08T09:22:32.000Z","path":"2017/01/08/2017010801/","text":"","tags":[{"name":"博客搭建","slug":"博客搭建","permalink":"http://www.jkinn.com/tags/博客搭建/"}]},{"title":"零基础 Hexo + Coding、Github、码云(oschina)搭建个人博客（四） —— 使用七牛云作为博客图床","date":"2017-01-07T09:21:08.000Z","path":"2017/01/07/2017010701/","text":"前面三个小节，我们实现了博客搭建及绑定个人域名，到目前我们的博客其实已经搭建完成了，本节属于博客优化。我们之前把博客部署在了Github、Coding、码云上，Giehub和码云好说，空间比较大，但是Coding给我们的存储空间只有256M，试想如果我们博客中的图片很多，一篇博客有那么十来张图片，那么一篇博客的大小最低也得超出1M甚至几兆了，而博客的文字只占很小的一部分空间，大部分空间都让图片占去了。既然这样，我们能不能把图片和文字分开，图片存储在专门的图床上，我们只调取链接呢，这样不就极大的减少了博客占据的空间了吗。 下面我们就说一下如何将图片存储在图床上。 现在国内免费的图床有很多，比如：贴图库http://www.tietuku.com/、图床http://tuchuang.org/、极简图床http://jiantuku.com/#/等等。当然腾讯云、阿里云、七牛云这些收费的云平台也可以作为图床使用。免费的我们就不说了，很简单，本节我们只说一下七牛云。七牛云也提供了免费的空间，当然不是全免费，在一定存储范围内免费，而且每月有10G的免费访问流量，其实一般来说，只要正常访问也够用了。 首先登录七牛云，找到 对象存储——&gt; 立即添加： Markdown 新建存储空间，如下图所示，这里的空间一定要选公开空间： Markdown 空间创建后，进入 内容管理： Markdown 点击 上传文件： Markdown 上传我们的图片就可以了，上传后点击 关闭 按钮回到文件列表： Markdown 在文件列表的操作项上点击 复制外链 ，就可以拿到我们的图片外网访问地址了： Markdown 然后我们把地址插进 Markdown 的编辑器就可以了。 注意：七牛云每月提供的10G流量在正常情况下可以满足，但是如果有小伙伴拿到你的图片地址，随便写个网络请求的小程序，外加个死循环，呵呵，那这10G的流量分分钟就给你玩没了，超出的流量可就是收费的了。这个问题目前来说无解，谁让咱们用的人家免费的呢。","tags":[{"name":"博客搭建","slug":"博客搭建","permalink":"http://www.jkinn.com/tags/博客搭建/"}]},{"title":"零基础 Hexo + Coding、Github、码云(oschina)搭建个人博客（三） —— 绑定个人域名","date":"2017-01-06T09:18:41.000Z","path":"2017/01/06/2017010601/","text":"经过前面两个小节的搭建，我们的博客已经实现了外网访问，其实只要不介意地址，博客就可以用了。今天我们来说一下如何使用自己申请的域名访问博客，当然，前提是你已经购买了域名。在第二小节中，我们把博客发布在了Github、Coding、码云这三个平台上，在绑定域名时，可以选择其中一个平台进行绑定，也可以一个域名根据线路不同绑定多个平台，比如海外用户访问Github，国内用户访问Coding或者码云。 首先，我们登录Coding，依次选择 代码——&gt; Pages服务，在 自定义域名处填写自己的域名，这里可以写多个： Markdown 然后登录我们的域名系统，这里我是购买的万网的域名，找到域名解析——&gt;立即设置： Markdown 然后选择 进入高级设置： Markdown 这里先科普一下，什么是记录类型和主机记录，常用的记录类型是 CNAME记录和A记录，简单说就是CNAME记录是绑定域名，A记录是绑定IP地址： Markdown 主机记录就是你的域名在浏览器地址栏怎么写，www就是域名带www，@就是域名不带www: Markdown 添加解析记录就很简单了，这里你可以用之前我们访问的地址（xxxx.github.io、xxx.coding.me、xxxx.oschina.io），也可以用IP地址，可以找一个平台绑定，也可以根据解析线路不同绑定多个平台，具体解析如下： Markdown 有的兄弟可能会问，我哪知道他的IP多少，ping命令会吧，ping一下地址不就出来了： Markdown 到这里还没完呢，这时候我们可以通过域名访问，但是访问会提示403,这时候需要在博客根目录的source子目录下建一个名为【CNAME】的文本文件，然后把文件的后缀名干掉，这个文件里写什么呢，就是你的域名，如下图所示： Markdown 最后依次执行 hexo g、hexo d 待执行完毕，我们就可以用自己的域名访问博客了。","tags":[{"name":"博客搭建","slug":"博客搭建","permalink":"http://www.jkinn.com/tags/博客搭建/"}]},{"title":"零基础 Hexo + Coding、Github、码云(oschina)搭建个人博客（二） —— 托管至Coding、Github、码云（oschina）","date":"2017-01-05T09:01:27.000Z","path":"2017/01/05/2017010501/","text":"前言在上一节中，我们在本地用Hexo搭建起了个人博客，并实现了发布及本地访问，本节我们学习将本地搭建好的博客发布到Github、Coding、码云上，实现外网访问。同时发布到多个托管平台一是为了下一节绑定域名时能够做到国内外访问分流，以提高各自的访问速度，二是为了在某一托管平台不能访问时，我们的博客能切换至其他平台继续对外发布。 至于Github、Coding和码云这三大代码托管平台怎么注册我就不说了，以下过程建立在三个代码托管平台均已注册的基础上。 托管至Github首先，我们说一下如何将本地的博客发布到Github上。登录Github后，点击右上角小加号，找到New repository，点击，创建新的资源库： Markdown 这里的资源库名字要注意了哈，资源库的名字格式是固定的，格式为：你的Github账户名.github.io，即如果你的Github账户名是zhangsan，则你的资源库名称为：zhangsan.github.io，千万千万不要乱写，格式不对，等会浏览器是访问不了的，点击Create repository创建资源库： Markdown 资源库创建后，复制资源库地址，如下图所示： Markdown 打开博客目录（上节我们新建的那个文件夹）下的_config.yml文件，找到deploy节点，将刚才复制的Github资源库地址配置上： 12345deploy: type: git repo: github: git@github.com:你的github帐户名/你的github帐户名.github.io.git branch: master 接下来我们安装部署插件，右键打开Git Bash，输入 npm install hexo-deployer-git –save 进行安装： 12345678dell@wanghl MINGW64 /d/blog$ npm install hexo-deployer-git --savehexo-site@0.0.0 D:\\blog`-- hexo-deployer-git@0.3.0 `-- moment@2.18.1npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.0.0 (node_modules\\ch okidar\\node_modules\\fsevents):npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@ 1.1.2: wanted &#123;\"os\":\"darwin\",\"arch\":\"any\"&#125; (current: &#123;\"os\":\"win32\",\"arch\":\"x64\"&#125;) 然后依次执行 hexo g、hexo d 进行编译、部署的时候有可能会报下图所示的错误： Markdown 这个错误的意思是没有权限提交，这很正常，因为Github根本不认识我们的电脑，肯定没有权限。在C盘下找到.ssh目录： Markdown 如果刚才报错的话，这个目录要么是空的要么只有一个 known_hosts 文件。在刚才的命令窗口执行 ssh-keygen -t rsa -C “注册github时候用的邮箱”（C是大写的）： 12dell@wanghl MINGW64 /d/blog$ ssh-keygen -t rsa -C \"注册github时候用的邮箱\" Markdown 这时候我们会发现 .ssh 目录下生成了两个文件 id_rsa.pub 和 id_rsa ： Markdown 用文本编辑器打开 id_rsa.pub 文件，全选复制里面的内容，找到Github下的个人设置： Markdown 找到 SSH and GPG keys ，点击右上角的 New SSH key： Markdown Title随便起名字，将刚才复制的内容黏贴到 Key 文本域中，点击 Add SSH key 保存。 Markdown 然后在控制台输入 ssh -T git@github.com 测试是否验证通过，控制台输出如下信息表示权限验证通过： 123dell@wanghl MINGW64 /e/blog$ ssh -T git@github.comHi 你的帐户名! You've successfully authenticated, but GitHub does not provide shell access. 然后再次执行 hexo d 提交部署，就可以部署成功了： Markdown 在浏览器访问 你的项目名称（即帐户名.github.io），就可以看到我们发布的博客了： Markdown 至此，将本地的Hexo博客发布到Github操作就算完成了，接下来我们再将其发布到Coding。 托管至Coding登录 Coding ，依次找到 账户——&gt;SSH公钥 ，和上边添加Github公钥一样添加我们生成的公钥： Markdown 然后点击 添加项目 添加我们要发布博客的项目： Markdown 项目名和帐户名保持一致，这里就不需要后缀了，直接写帐户名就好，项目类型选为 私有 ，点击 创建项目 进行创建： Markdown 项目创建后，会自动跳转到项目页面，点击 代码 ，找到 SSH 方式访问仓库，然后复制仓库地址： Markdown 打开博客目录（上节我们新建的那个文件夹）下的_config.yml文件，找到deploy节点，将刚才复制的仓库 SSH 访问地址 配置上，这时候我们的仓库就是两个了，一个是上边配置的Github，一个是Coding： 123456deploy: type: git repo: github: git@github.com:你的帐户名/你的帐户名.github.io.git coding: git@git.coding.net:你的帐户名/你的帐户名.git branch: master 这时，我们再次依次执行 hexo g、hexo d，进行生成、发布，在发布时，会提示如下信息，意思就是是不是要连接到Coding，输入 yes ，点击 OK 继续 Markdown 这时候控制台会出现两份提交信息，一条是提交到Github，一条是提交到Coding: Markdown 进入Coding项目，点击代码，就能看到我们提交上来的文件了，其实这些文件就是博客目录下public子目录中的东西： Markdown 选择 代码——&gt; Pages 服务，部署来源选择 Master分支 ，点击 保存 对项目进行静态发布： Markdown 出现下边的信息表示项目发布成功，这时候我们可以将 强制 HTTPS 访问 打开，增强博客安全性： Markdown 最后，在浏览器访问 你的项目名.coding.me，看到我们的博客页面，表示部署成功： Markdown OK，又搞定一个代码托管平台，继续搞定 码云 ！ 托管至码云有了上边两个平台的经验，码云就非常简单了，同样，第一步先授权。登录码云，依次点击 头像——&gt; 个人资料——&gt; SSH 公钥，将我们生成的SSH公钥填进去，确定保存： Markdown 点击 新建项目 创建项目，项目名必须，必须，必须和用户名保持一致，语言类型选择 HTML，点击创建： Markdown 创建完成后，会跳转至项目页，复制项目 SSH 地址： Markdown 同样，将项目的 SSH 地址配置在博客的配置文件中： 1234567deploy: type: git repo: github: git@github.com:你的github帐户名/你的项目名.github.io.git coding: git@git.coding.net:你的Coding帐户名/你的项目名.git oschina: git@git.oschina.net:你的码云帐户名/你的项目名.git branch: master 然后执行 hexo d 进行发布，这时，也会有提示，和Coding一样，输入 yes 点击 OK： Markdown 刷新码云项目页，就可以看到我们发布的文件了： Markdown 点击项目操作项 服务——&gt; Pages，部署分支选择 Master，点击 启动服务 ，开启Pages 服务： Markdown 部署成功后，系统会返回访问地址，其实就是 你的项目名.oschina.io: Markdown 在浏览器访问部署地址，看到我们的博客主页，表示部署成功： Markdown 到现在，三大主流托管平台我们都已经搞定了。其实现在我们已经可以在外网访问我们的博客了，但是访问地址并不是我们自己的域名，看起来有点Low，下一节，我们说一下如何把访问地址改成自己的域名。","tags":[{"name":"博客搭建","slug":"博客搭建","permalink":"http://www.jkinn.com/tags/博客搭建/"}]},{"title":"零基础 Hexo + Coding、Github、码云(oschina)搭建个人博客（一） —— 基础环境搭建","date":"2017-01-04T08:05:05.000Z","path":"2017/01/04/2017010401/","text":"前言&nbsp;&nbsp;&nbsp;&nbsp;能用来搭建个人博客的工具很多，本文只对Hexo做介绍。&nbsp;&nbsp;&nbsp;&nbsp;Hexo可用来搭建个人博客，并可依据国内外网络环境同时部署在Github和Coding(码云)上，国外用户访问Github，国内用户访问Coding，即加快国内访问速度，又可实现博客访问分流。用Hexo搭建个人博客，不仅所需的所有软件及部署平台均免费，而且搭建过程也是非常简单的，您只需要按照小编给您写好的步骤不停的下一步即可。 软件列表整个搭建过程需要安装的软件并不多，全部所需软件如下（版本无所谓）： Markdown 各软件下载地址如下： 软件 下载地址 Git-2.13.2-64-bit.exe https://git-scm.com/downloads node-v6.11.0-x64.msi https://nodejs.org/en/download/ TortoiseGit-2.4.0.2-64bit.msi https://tortoisegit.org/download/ TortoiseGit-LanguagePack-2.4.0.0-64bit-zh_CN.msi https://tortoisegit.org/download/ 如果您已经安装过这几个软件，则可跳过本文，直接进入下一步： Git 安装首先我们需要安装Git，Git是一款免费、开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。在搭建博客的过程中，我们主要使用Git的命令行进行Hexo的安装及配置。 双击Git-2.13.2-64-bit.exe，开始安装Git: Markdown 点击Next,进入下一步： Markdown 选择安装目录，点击Next，进入下一步： Markdown 全部勾选，特别是需要勾选Git Bash Here和Git GUI Here这两个选项，点击Next，进入下一步： Markdown 默认，点击Next，进入下一步： Markdown 选择第二项 Use Git from the Windows Command Prompt ,点击Next，进入下一步： Markdown 默认，点击Next，进入下一步： Markdown 选择第一项Checkout Windows-style,comment Unix-style line endings，点击Next，进入下一步： Markdown 选择第一项Use MinTTY， 点击Next，进入下一步： Markdown 默认，点击Next，开始安装： Markdown 稍等片刻，弹出如下界面，表示安装完毕： Markdown 在电脑任意文件夹，右键，能在右键操作列表中看到如下红圈标识的两项操作，表示Git安装成功： Markdown TortoiseGit 安装及配置Git自带的操作方式为命令行，命令行的方式对非IT行业的小伙伴来说并不是很友好，为了方便Git的使用，我们还需要安装TortoiseGit。TortoiseGit是一个开放的git版本控制系统的客户端，他将Git原生的命令行操作方式转为界面方式，极大的降低了Git的学习成本。 双击TortoiseGit-2.4.0.2-64bit.msi，开始安装TortoiseGit： Markdown 点击Next，进入下一步： Markdown 点击Next，进入下一步： Markdown 默认，点击Next，进入下一步： Markdown 点击 install，开始安装TortoiseGit： Markdown 稍等片刻，弹出如下界面，表示安装完毕： Markdown 在电脑任意文件夹，右键，能在右键操作列表中看到如下红圈标识的三项操作，表示TortoiseGit安装成功： Markdown 这时候，我们已经把Git的命令行界面简化成了鼠标操作，但是操作按钮全都是英文的，对于英文不是那么好的小伙伴来说，貌似还是不那么友好，接下来我们继续把TortoiseGit的英文界面简化成中文。 双击 TortoiseGit-LanguagePack-2.4.0.0-64bit-zh_CN.msi，安装中文语言包： Markdown 点击 下一步： Markdown 一眨眼的功夫，就安装完了，点击 完成 退出。在任意文件夹右键，找到 TortoiseGit ——&gt; Settings： Markdown 找到 General ——&gt; Language，将语言改为 【中文】保存： Markdown 这时候TortoiseGit的操作按钮就是中文的了，如下图： Markdown 至此，我们已经完成了TortoiseGit的安装。 nodeJS 安装Node.js是一个Javascript运行环境(runtime)，就是运行在服务端的 JavaScript。在使用Hexo搭建博客的过程中，NodeJS扮演着十分重要的角色，它提供了Hexo的安装环境。 NodeJS的安装也很简单，只需下一步下一步即可。双击node-v6.11.0-x64.msi 开始安装： Markdown 点击Next，进入下一步： Markdown 勾选同意条款，点击Next，进入下一步： Markdown 选择安装目录，点击Next，进入下一步： Markdown 默认，点击Next，进入下一步： Markdown 点击install，开始安装： Markdown 稍等片刻，弹出如下界面，表示安装完毕： Markdown 点击Finish，退出！ Hexo 安装及配置准备好以上两个工具后，就正式迎来了我们今天的主角【Hexo】,Hexo不需要提前准备安装文件，只需要几个简单的命令即可。安装过程和以上两个工具一样，也是非常简单的，OK，走起来。 在电脑的某个目录下新建一个文件夹，名字随便取，只要不是中文的就好，我这里在E盘下新建文件夹blog。打开刚建好的文件夹，右键选择Git Bash Here，如下图所示： Markdown 在弹出的命令窗口中输入：npm install -g hexo ，回车： 12dell@wanghl MINGW64 /d/blog$ npm install -g hexo 稍等片刻，控制台输出以下内容表示hexo安装完成： 12npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.0.0 (node_modules\\hexo\\node_modules\\chokidar\\node_modules\\fsevents):npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.1.2: wanted &#123;\"os\":\"darwin\",\"arch\":\"any\"&#125; (current: &#123;\"os\":\"win32\",\"arch\":\"x64\"&#125;) 在控制台输入hexo -v ，验证hexo是否安装成功： 12345678910111213dell@wanghl MINGW64 /d/blog$ hexo -vhexo-cli: 1.0.3os: Windows_NT 10.0.10240 win32 x64http_parser: 2.7.0node: 6.11.0v8: 5.1.281.102uv: 1.11.0zlib: 1.2.11ares: 1.10.1-DEVicu: 58.2modules: 48openssl: 1.0.2k 控制台输出以上信息，标识hexo安装成功。接着输入hexo init进行初始化操作： 12dell@wanghl MINGW64 /d/blog$ hexo init 稍等片刻，控制台输出以下信息，标识hexo初始化成功： 123npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.0.0 (node_modules\\chokidar\\node_modules\\fsevents):npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.1.2: wanted &#123;\"os\":\"darwin\",\"arch\":\"any\"&#125; (current: &#123;\"os\":\"win32\",\"arch\":\"x64\"&#125;)INFO Start blogging with Hexo! 输入npm install，安装hexo依赖包： 1234dell@wanghl MINGW64 /d/blog$ npm installnpm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@^1.0.0 (node_modules\\chokidar\\node_modules\\fsevents):npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.1.2: wanted &#123;\"os\":\"darwin\",\"arch\":\"any\"&#125; (current: &#123;\"os\":\"win32\",\"arch\":\"x64\"&#125;) 到现在hexo就算安装完成了，接下来我们就可以欣赏我们的安装成果了。 测试在刚才打开的控制台输入hexo g，生成静态化页面： 12dell@wanghl MINGW64 /d/blog$ hexo g 生成完毕后，输入hexo s，启动本地服务器 1234dell@wanghl MINGW64 /d/blog$ hexo sINFO Start processingINFO Hexo is running at http://localhost:4000/. Press Ctrl+C to stop. 然后打开浏览器，访问http://localhost:4000/，就可以看到我们的博客页面了： Markdown 现在我们已经在本地搭建好了自己的博客系统，下一节我们介绍如何将本地的博客托管到Github、Coding、码云等代码托管平台上。","tags":[{"name":"博客搭建","slug":"博客搭建","permalink":"http://www.jkinn.com/tags/博客搭建/"}]}]